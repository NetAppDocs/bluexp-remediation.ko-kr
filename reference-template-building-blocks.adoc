---
sidebar: sidebar 
permalink: reference-template-building-blocks.html 
keywords: templates, conditions, conditional actions, template controls, passing values 
summary: '볼륨 이름과 같은 작업 사이에 값을 전달할 수 있는 템플릿을 만들 때, 작업을 함께 연결할 조건부 분기(새 볼륨에서 백업 사용)를 사용할 때, 사용자가 템플릿을 사용할 때 리소스를 사용자 지정하는 데 도움이 되는 특정 기능이 있습니다.' 
---
= 템플릿 구성 요소
:hardbreaks:
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
볼륨 이름과 같은 작업 사이에 값을 전달할 수 있는 템플릿을 만들 때, 작업을 함께 연결할 조건부 분기(새 볼륨에서 백업 사용)를 사용할 때, 사용자가 템플릿을 사용할 때 리소스를 사용자 지정하는 데 도움이 되는 특정 기능이 있습니다.



== 특수 템플릿 컨트롤

서식 파일을 만들기 전에 서식 파일의 매개 변수 값을 미리 채울 때 설정할 수 있는 몇 가지 특수 옵션을 이해해야 합니다.

image:screenshot_template_options.png["매개 변수 값에 설정할 수 있는 옵션에 대한 편집 가능 및 드리프트의 스크린샷."]



=== 편집 가능 확인란

스토리지 관리자가 템플릿에 입력한 값을 덮어쓸 수 있도록 하려면 이 확인란을 선택합니다. 이렇게 하면 스토리지 관리자가 값을 제안하지만 리소스를 생성할 때 값을 사용자 지정할 수 있습니다.

이 옵션을 선택하지 않으면 사용자가 값을 변경할 수 없으며 관리자가 리소스를 배포할 때 템플릿의 하드 코드된 값이 항상 사용됩니다.



=== 드리프트 확인란

이 확인란을 선택하면 Cloud Manager가 템플릿으로 리소스를 생성할 때 매개 변수에 대해 입력한 하드 코딩된 값을 모니터링합니다. 나중에 변경 사항 보고서를 실행하여 변경 사항 으로 구성된 필드가 더 이상 템플릿 설정과 호환되지 않는 필드를 확인할 수 있습니다.

이 옵션을 선택하지 않으면 사용자가 리소스를 만든 후 값을 원하는 값으로 변경할 수 있습니다.


NOTE: 드리프트 기능이 작동하려면 템플릿의 일부 매개변수에 대해 드리프트를 정의한 후 템플릿에 대해 드리프트 기능을 활성화해야 합니다. 이 단계는 템플릿을 생성할 때 마지막 단계입니다. 드리프트는 매개 변수에 대해 활성화되었지만 템플릿에서 활성화되지 않은 경우 작동하지 않습니다.



=== 필드에 정규식(regex) 사용

템플릿 내에 regex를 입력하여 관리자가 필드에 입력할 수 있는 값(예: "볼륨 이름" 및 "공유 이름")을 정의할 수 있는 몇 가지 필드가 있습니다.

image:screenshot_template_regex.png["볼륨 이름에 대해 허용된 값을 정의하기 위해 regex를 사용하는 스크린샷."]

예를 들어, 볼륨 이름에 대한 regex로 "^[a-zA-Z][0-9a-zA-Z_]{0,149}$"를 입력하면 "_이름은 알파벳 문자로 시작해야 하며 숫자, 문자 또는 밑줄만 포함할 수 있으며 길이는 150자 이하여야 합니다."라는 의미입니다.



== 템플릿 작업 사이에 값을 전달합니다

템플릿은 이전 작업의 정보를 사용하여 향후 작업에서 필드를 채울 수 있습니다. 예를 들어, 클라우드 백업 기능을 사용할 볼륨의 이름을 정의할 때 Cloud Volumes ONTAP 생성 작업에서 스토리지 관리자가 볼륨 이름으로 입력한 값을 사용하도록 백업 조치를 지시할 수 있습니다.

AppTemplate 서비스에서 사용할 수 있는 정보에는 세 가지 유형이 있습니다.

* 입력 값 - 이전 템플릿 작업의 필드에 스토리지 관리자가 입력한 실제 값입니다.
* 출력 값 - 이전 템플릿 작업에서 리소스를 생성한 후 Cloud Manager에서 생성하는 값입니다.
* 사용자 지정 값 입력 - 이 값은 사용자가 입력한 값이며 템플릿의 이전 작업에서 액세스할 수 없습니다.


예를 들어, 볼륨에 대한 규정 준수 검사를 활성화하려면 Cloud Data Sense 서비스에 스토리지 관리자가 입력하는 "볼륨 이름"(입력 값)과 Cloud Manager가 볼륨을 생성할 때 생성하는 "볼륨 uuid"(출력 값)가 모두 필요합니다.

다음 그림에서는 템플릿의 클라우드 데이터 감지 작업 섹션에 이 정보를 입력하는 방법을 보여 줍니다.

image:screenshot_template_variable_input_output.png["이전 작업에서 입력한 값을 사용하여 다른 작업에서 필드를 채우는 방법을 보여 주는 그림"]



== 조건을 사용하여 논리 문에 따라 다른 작업을 수행합니다

조건은 스토리지 관리자가 템플릿을 실행할 때 조건이 참인지 거짓인지에 따라 다른 작업을 실행하도록 템플릿에 지정합니다. 다음과 같이 * Logical IF * 작업을 선택하여 조건을 추가합니다.

image:screenshot_template_select_condition.png["서식 파일에 조건문을 추가하는 방법에 대한 스크린샷"]

예를 들어, 볼륨에 50GB보다 큰 용량이 있는 경우 해당 볼륨에 대해 Cloud Backup을 활성화해야 한다는 지침이 있을 수 있습니다. 볼륨의 용량이 더 작은 경우 Cloud Backup이 활성화되지 않습니다. 아래 그림과 같이 템플릿에서 이 기능을 구현할 수 있습니다.

image:screenshot_template_condition_example.png["조건부로 클라우드 백업을 활성화하기 위해 템플릿에서 조건을 사용하는 방법을 보여 주는 스크린샷."]

조건은 다음 두 부분으로 구성됩니다.

* 규칙 - true 또는 false로 확인 중인 항목입니다.
* 및/또는 구문 - 여러 규칙을 사용하여 추가 작업을 추가할지 여부를 더욱 구체화할 수 있습니다.


규칙은 다음 세 부분으로 구성됩니다.

* 소스 필드 * - 비교할 값을 가져올 위치입니다.

* 액션으로부터 입력 값 가져오기 - 스토리지 관리자가 이전 템플릿 작업의 필드에 입력한 실제 값입니다.
* 액션으로부터 출력 값 가져오기 - 이전 템플릿 작업에서 리소스를 생성한 후 Cloud Manager가 생성한 값입니다.
* 값 입력 - 입력한 값입니다. 템플릿의 이전 작업에서 액세스할 수 없습니다. 기존 볼륨 등 이미 존재하는 리소스의 값일 수 있습니다.


* 연산자 * - 비교에 사용되는 연산자입니다. 옵션은 * 같음 *, * 같지 않음 *, * 보다 큼 *, * 보다 작음 *, * 보다 크거나 같음 *, * 보다 작거나 같음 * 입니다.

* 필드 값 * - 비교할 실제 값입니다. 옵션은 _Source 필드 _ 와(과) 동일합니다.

및/또는 문을 사용하면 여러 규칙이 True 또는 False로 평가되는지 여부에 따라 템플릿을 실행할 때 사용자에게 추가 작업을 조건부로 추가할 수 있습니다. * 및 * 는 모든 규칙이 참 또는 거짓이어야 하며 * 또는 * 는 규칙 중 하나만 참 또는 거짓이어야 합니다.

규칙과 함께 및 및 또는 문을 모두 사용할 경우 평가 프로세스는 표준 수학 순서를 따릅니다. 여기서 "and"는 "or"가 됩니다. 예를 들면 다음과 같습니다.

* Rule1> 또는 <Rule2> 및 <rule3>
+
이 문은 <Rule1> 또는 (<Rule2> 및 <rule3>) 순서로 평가됩니다.


